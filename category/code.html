<!DOCTYPE html>
<html lang="en">
<head>
  
  <title>(blog-dump 'dciabrin) &mdash; Articles in Category Code</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1" />

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>

  <link rel="stylesheet" type="text/css" href="http://damien.ciabrini.name/theme/lingonberry/css/style.css" />
  <link rel="stylesheet" type="text/css" href="http://damien.ciabrini.name/theme/tipuesearch/css/tipuesearch.css" />
  <link rel="stylesheet" type="text/css" href="http://damien.ciabrini.name/theme/css/blogdump.css" />
  <link rel="stylesheet" type="text/css" href="http://damien.ciabrini.name/theme/css/slide.css" />
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2"/> 
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Inconsolata" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  <link rel="alternate" type="application/atom+xml"
	title="(blog-dump 'dciabrin) — Atom Feed"
	href="http://damien.ciabrini.name/" /> 
</head>

<body id="body" class="homez blogz" >
  <div id="page">
    <header id="header" class="header section">
        <div class="header-inner section-inner">
            <a class="site-logo noimg" rel="home" title="(blog-dump 'dciabrin)" href="http://damien.ciabrini.name">
                <span class="screen-reader-text"></span>
            </a>
	    <h1 id="site-title" class="site-title">
              <a href="http://damien.ciabrini.name">(blog-dump 'dciabrin)</a>
              <a href="#" id="toggle-menu">☰</a>
            </h1>
<h2 id="site-description" class="site-description">A coding and hacking diary</h2>        </div>
    
    <nav id="header-nav" class="site-navigation">
        <form class="navbar-search" action="http://damien.ciabrini.name/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form>
	<div class="menu-navigation-container"><div class="navigation-inner section-inner">
	    <ul id="menu-navigation" class="blog-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
		    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://damien.ciabrini.name/pages/about.html">About</a></li>

			<li class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://damien.ciabrini.name/category/code.html">Code</a></li>
			<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://damien.ciabrini.name/category/misc.html">Misc</a></li>

			<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives.html">Archives</a></li>


	    </ul>
	</div></div> <!--/#menu-navigation-container-->
    </nav><!-- /#menu -->
    </header><!-- /#banner -->
		                    
    <!-- <div id="full"> -->
    <!-- Content -->
    <div class="flexcontent">
    <div class="contentandnav">
        <div id="contents" class="content section-inner posts padding-top">
            <div class="post-meta">
	        <h3>Filed under <span>Code</span> &hellip;</h3>
            </div>
<div class="post type-post status-publish format-standard hentry category-general" id="post">
    <div class="post-bubbles">
        <a class="format-bubble" title="Troubleshooting open_files_limit in MariaDB" href="posts/2016/03/troubleshooting-open_files_limit-in-mariadb.html">
            <span class="screen-reader-text">Troubleshooting open_files_limit in MariaDB</span>
        </a>
    </div>

    <div class="main content-inner">
        <h2 class="post-title post-summary">
	    <a href="http://damien.ciabrini.name/posts/2016/03/troubleshooting-open_files_limit-in-mariadb.html" title="Permalink to Troubleshooting open_files_limit in MariaDB" rel="bookmark">Troubleshooting open_files_limit in MariaDB</a>
        </h2>

        <div class="post-meta">
            <i class="fa fa-calendar"></i> <a href="http://damien.ciabrini.name/posts/2016/03/troubleshooting-open_files_limit-in-mariadb.html">22 March 2016</a>
            <span class="sep"></span>

                <i class="fa fa-comments"></i> <a href="http://damien.ciabrini.name/posts/2016/03/troubleshooting-open_files_limit-in-mariadb.html#disqus_thread" title="Comments on Troubleshooting open_files_limit in MariaDB">comments</a>
	        <span class="sep"></span>

    	        <span class="tag-links"><i class="fa fa-tags"></i>
 <a href="http://damien.ciabrini.name/tag/galera.html" rel="tag">galera</a>,  <a href="http://damien.ciabrini.name/tag/mariadb.html" rel="tag">mariadb</a>    	        </span>
        </div> <!-- /#post-meta -->

        <div class="entry-content">
	    <p>It may happen in the MariaDB logs that you see failures to set <code>open_files_limit</code>:</p>
<div class="highlight"><pre>160318 21:48:04 [Warning] option &#39;open_files_limit&#39;: unsigned value 18446744073709551615 adjusted to 4294967295
160318 21:48:04 [Warning] option &#39;open_files_limit&#39;: unsigned value 18446744073709551615 adjusted to 4294967295
160318 21:48:04 [Warning] Could not increase number of max_open_files to more than 1024 (request: 4907)
</pre></div>


<p>Meaning MariaDB was unable to raise the limit of maximum file descriptors at startup, with all the subsequent problems it can cause. Sometimes it is simply due to a bad setting in configuration files, such as:</p>
<div class="highlight"><pre>open_files_limit=-1
</pre></div>



            <div class="medium primary btn"><a href="http://damien.ciabrini.name/posts/2016/03/troubleshooting-open_files_limit-in-mariadb.html" rel="bookmark" title="Permalink to Troubleshooting open_files_limit in MariaDB">Read more...</i></a></div>
        </div> <!--/#entry-content-->
    </div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
    <div class="post-bubbles">
        <a class="format-bubble" title="Galera boot process in Open Stack HA and manual override" href="posts/2015/10/galera-boot-process-in-open-stack-ha-and-manual-override.html">
            <span class="screen-reader-text">Galera boot process in Open Stack HA and manual override</span>
        </a>
    </div>

    <div class="main content-inner">
        <h2 class="post-title post-summary">
	    <a href="http://damien.ciabrini.name/posts/2015/10/galera-boot-process-in-open-stack-ha-and-manual-override.html" title="Permalink to Galera boot process in Open Stack HA and manual override" rel="bookmark">Galera boot process in Open Stack HA and manual override</a>
        </h2>

        <div class="post-meta">
            <i class="fa fa-calendar"></i> <a href="http://damien.ciabrini.name/posts/2015/10/galera-boot-process-in-open-stack-ha-and-manual-override.html">02 October 2015</a>
            <span class="sep"></span>

                <i class="fa fa-comments"></i> <a href="http://damien.ciabrini.name/posts/2015/10/galera-boot-process-in-open-stack-ha-and-manual-override.html#disqus_thread" title="Comments on Galera boot process in Open Stack HA and manual override">comments</a>
	        <span class="sep"></span>

    	        <span class="tag-links"><i class="fa fa-tags"></i>
 <a href="http://damien.ciabrini.name/tag/galera.html" rel="tag">galera</a>,  <a href="http://damien.ciabrini.name/tag/openstack.html" rel="tag">openstack</a>    	        </span>
        </div> <!-- /#post-meta -->

        <div class="entry-content">
	    <p>Deployments of OpenStack that rely on MariaDB+Galera benefit from a HA database thanks to Galera's synchronous replication. In such deployments, the Galera cluster is typically managed via Pacemaker, by means of a galera resource agent.</p>
<p>While Galera itself has its own notion of cluster management (membership, health check, write-set replication...), a resource agent is still necessary for Pacemaker to perform the basic cluster management duties, for example:</p>
<ul>
<li>
<p>Starting up the Galera servers on the available nodes in the cluster</p>
</li>
<li>
<p>Health monitoring and recovery actions on failure (e.g. fencing)</p>
</li>
</ul>
<p>This document describes the concepts involved in booting a Galera cluster, how the galera resource agent implements the boot process of a galera cluster, and how it can be overriden for recovery scenarios.</p>

            <div class="medium primary btn"><a href="http://damien.ciabrini.name/posts/2015/10/galera-boot-process-in-open-stack-ha-and-manual-override.html" rel="bookmark" title="Permalink to Galera boot process in Open Stack HA and manual override">Read more...</i></a></div>
        </div> <!--/#entry-content-->
    </div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
    <div class="post-bubbles">
        <a class="format-bubble" title="Support for Aluminium Keyboards packaged, code-named apple-kbd" href="posts/2011/05/support-for-aluminium-keyboards-packaged-code-named-apple-kbd.html">
            <span class="screen-reader-text">Support for Aluminium Keyboards packaged, code-named apple-kbd</span>
        </a>
    </div>

    <div class="main content-inner">
        <h2 class="post-title post-summary">
	    <a href="http://damien.ciabrini.name/posts/2011/05/support-for-aluminium-keyboards-packaged-code-named-apple-kbd.html" title="Permalink to Support for Aluminium Keyboards packaged, code-named apple-kbd" rel="bookmark">Support for Aluminium Keyboards packaged, code-named apple-kbd</a>
        </h2>

        <div class="post-meta">
            <i class="fa fa-calendar"></i> <a href="http://damien.ciabrini.name/posts/2011/05/support-for-aluminium-keyboards-packaged-code-named-apple-kbd.html">19 May 2011</a>
            <span class="sep"></span>

                <i class="fa fa-comments"></i> <a href="http://damien.ciabrini.name/posts/2011/05/support-for-aluminium-keyboards-packaged-code-named-apple-kbd.html#disqus_thread" title="Comments on Support for Aluminium Keyboards packaged, code-named apple-kbd">comments</a>
	        <span class="sep"></span>

    	        <span class="tag-links"><i class="fa fa-tags"></i>
 <a href="http://damien.ciabrini.name/tag/apple.html" rel="tag">apple</a>,  <a href="http://damien.ciabrini.name/tag/apple-kbd.html" rel="tag">apple-kbd</a>    	        </span>
        </div> <!-- /#post-meta -->

        <div class="entry-content">
	    <p>After many episodes, the support for Apple Aluminium Keyboards is
finally becoming user-friendly. All major distribs now ship a recent
version of
<a href="http://www.freedesktop.org/wiki/Software/XKeyboardConfig">xkeyboard-config</a>,
so there is no need to mess with XKB patches anymore...</p>
<p>To complete the user experience, I'm happy to introduce you
<a href="https://github.com/dciabrin/apple-kbd"><code id="tt1099">apple-kbd</code></a>, the
collection of helpful goodies you need for your Aluminium Keyboard under
Linux. Here's what you'll get with this package:</p>

            <div class="medium primary btn"><a href="http://damien.ciabrini.name/posts/2011/05/support-for-aluminium-keyboards-packaged-code-named-apple-kbd.html" rel="bookmark" title="Permalink to Support for Aluminium Keyboards packaged, code-named apple-kbd">Read more...</i></a></div>
        </div> <!--/#entry-content-->
    </div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
    <div class="post-bubbles">
        <a class="format-bubble" title="Apple Aluminium Keyboards with udev, Xorg server 1.9" href="posts/2011/01/apple-aluminium-keyboards-with-udev-xorg-server-19.html">
            <span class="screen-reader-text">Apple Aluminium Keyboards with udev, Xorg server 1.9</span>
        </a>
    </div>

    <div class="main content-inner">
        <h2 class="post-title post-summary">
	    <a href="http://damien.ciabrini.name/posts/2011/01/apple-aluminium-keyboards-with-udev-xorg-server-19.html" title="Permalink to Apple Aluminium Keyboards with udev, Xorg server 1.9" rel="bookmark">Apple Aluminium Keyboards with udev, Xorg server 1.9</a>
        </h2>

        <div class="post-meta">
            <i class="fa fa-calendar"></i> <a href="http://damien.ciabrini.name/posts/2011/01/apple-aluminium-keyboards-with-udev-xorg-server-19.html">11 January 2011</a>
            <span class="sep"></span>

                <i class="fa fa-comments"></i> <a href="http://damien.ciabrini.name/posts/2011/01/apple-aluminium-keyboards-with-udev-xorg-server-19.html#disqus_thread" title="Comments on Apple Aluminium Keyboards with udev, Xorg server 1.9">comments</a>
	        <span class="sep"></span>

    	        <span class="tag-links"><i class="fa fa-tags"></i>
 <a href="http://damien.ciabrini.name/tag/apple.html" rel="tag">apple</a>,  <a href="http://damien.ciabrini.name/tag/apple-kbd.html" rel="tag">apple-kbd</a>    	        </span>
        </div> <!-- /#post-meta -->

        <div class="entry-content">
	    <p>It's been a year now since I published my support for Aluminium
Keyboards. Since then, my XKB patches have been accepted in
<a href="http://freedesktop.org/wiki/Software/XKeyboardConfig">XKeyboardConfig</a>
1.9, with a few modifications:</p>
<ul>
<li>The multimedia keys can always be accessed by combining Fxx with the
    3rd level chooser (this was option <code id="tt1099">alul3media</code> in my
    original XKB patches)</li>
<li>There is now a single XKB option <code id="tt1101">alupckeys</code> to emulate the
    behaviour of a PC keyboard, <em>i.e.</em> to enable PrintScreen,
    ScrollLock, SysReq and NumLock (options <code id="tt1103">alupcfkeys</code> and
    <code id="tt1104">alupcnumlock</code> in the original patches)</li>
</ul>

            <div class="medium primary btn"><a href="http://damien.ciabrini.name/posts/2011/01/apple-aluminium-keyboards-with-udev-xorg-server-19.html" rel="bookmark" title="Permalink to Apple Aluminium Keyboards with udev, Xorg server 1.9">Read more...</i></a></div>
        </div> <!--/#entry-content-->
    </div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
    <div class="post-bubbles">
        <a class="format-bubble" title="Aluminium Keyboard support under X11: all models, all OSes" href="posts/2009/12/aluminium-keyboard-support-under-x11-all-models-all-oses.html">
            <span class="screen-reader-text">Aluminium Keyboard support under X11: all models, all OSes</span>
        </a>
    </div>

    <div class="main content-inner">
        <h2 class="post-title post-summary">
	    <a href="http://damien.ciabrini.name/posts/2009/12/aluminium-keyboard-support-under-x11-all-models-all-oses.html" title="Permalink to Aluminium Keyboard support under X11: all models, all OSes" rel="bookmark">Aluminium Keyboard support under X11: all models, all OSes</a>
        </h2>

        <div class="post-meta">
            <i class="fa fa-calendar"></i> <a href="http://damien.ciabrini.name/posts/2009/12/aluminium-keyboard-support-under-x11-all-models-all-oses.html">22 December 2009</a>
            <span class="sep"></span>

                <i class="fa fa-comments"></i> <a href="http://damien.ciabrini.name/posts/2009/12/aluminium-keyboard-support-under-x11-all-models-all-oses.html#disqus_thread" title="Comments on Aluminium Keyboard support under X11: all models, all OSes">comments</a>
	        <span class="sep"></span>

    	        <span class="tag-links"><i class="fa fa-tags"></i>
 <a href="http://damien.ciabrini.name/tag/apple.html" rel="tag">apple</a>,  <a href="http://damien.ciabrini.name/tag/apple-kbd.html" rel="tag">apple-kbd</a>    	        </span>
        </div> <!-- /#post-meta -->

        <div class="entry-content">
	    <p>I finally found the time to update my previous support for Aluminium
Keyboard under Xorg, and take it to the Next Level (tm). The overall
support is now much more polished. For you this means several things:</p>
<ul>
<li>I've implemented the XKB geometries of <strong>all variants of the long
    Aluminium Keyboard</strong>, be it
    <a href="http://damien.ciabrini.free.fr/pub/applekbd-xkb/apple-alukbd-ansi.svg">ANSI</a>
    (American),
    <a href="http://damien.ciabrini.free.fr/pub/applekbd-xkb/apple-alukbd-iso.svg">ISO</a>
    (Internationnal) or
    <a href="http://damien.ciabrini.free.fr/pub/applekbd-xkb/apple-alukbd-jis.svg">JIS</a>
    (Japanese)! And believe me, it's darned complicated to support JIS
    keyboard's dual layout without having access to the real hardware :D</li>
<li>I've added support for base XKB rules, which means that the keyboard
    will now be properly configured <strong>on other OSes than Linux</strong>. I
    personally used <a href="http://www.opensolaris.org/">OpenSolaris</a> during my
    tests, but it should work equally well on
    <a href="http://www.freebsd.org/">FreeBSD</a>, <a href="http://openbsd.org/">OpenBSD</a>,
    and all their cousins!</li>
<li>The keyboard support is now <strong>aware of the system-wide keyboard
    settings</strong> as found in Debian or Fedora for example. If you
    configured your system to default to Dvorak layout, the support will
    use it automatically!</li>
</ul>

            <div class="medium primary btn"><a href="http://damien.ciabrini.name/posts/2009/12/aluminium-keyboard-support-under-x11-all-models-all-oses.html" rel="bookmark" title="Permalink to Aluminium Keyboard support under X11: all models, all OSes">Read more...</i></a></div>
        </div> <!--/#entry-content-->
    </div> <!--/#main-->
</div>  <!--/#post--><div class="navigation">
		<div class="nav-next"><a href="http://damien.ciabrini.name/category/code2.html" >Older posts <span class="meta-nav">&rarr;</span></a></div>
</div>
        </div>
<aside id="menu" class="side_navigation">
  <h3 class="nav_author">Damien Ciabrini</h3>

  <p>Coder, hacker, dreamer. Worked on compilers,
    debuggers, language runtimes. Passionate
    about distributed computing. Obsessed by
    retro hardware and optimizations.
    <div class="center social-buttons">
        <a class="social fa fa-twitter" href="http://twitter.com/dciabrin"></a>
        <!-- <span class="sep"></span> -->
        <a class="social fa fa-github" href="http://github.com/dciabrin"></a>
        <!-- <span class="sep"></span> -->
        <a class="social fa fa-google-plus" href="https://plus.google.com/+DamienCiabrini"></a>
        <!-- <span class="sep"></span> -->
        <a class="social fa fa-linkedin" href="https://www.linkedin.com/in/damien-ciabrini-70514187"></a>
        <!-- <span class="sep"></span> -->
    </div>
  </p>
    
  <h3>Meta</h3>
  <div class="center">
  <ul>
      <li><a href="http://damien.ciabrini.name/" type="application/atom+xml" rel="alternate" title="ATOM Feed" />Blog Feed <i class="fa fa-rss"></i></a></li>
  </ul>
  </div>
  
  <h3>Categories</h3>
  <div class="center">
  <ul>
        <li><a href="http://damien.ciabrini.name/category/code.html">Code</a> (9)</li>
        <li><a href="http://damien.ciabrini.name/category/misc.html">Misc</a> (1)</li>
  </ul>
  </div>
</aside>    </div>
    </div>
    <!-- Footer -->
<footer id="footer" class="footer">
  <div class="section-inner">
    &copy; 2008&dash;2015 Damien Ciabrini - Content licensed under <a href="CC-BY 4.0">CC-BY 4.0</a> unless stated otherwise.<br/>
    Theme based on <a href="https://wordpress.com/themes/lingonberry/">Lingonberry</a>,
    icons by <a href="https://fortawesome.github.io/Font-Awesome/">Font Awesome</a><br/>
    Powered by <a href="http://getpelican.com">Pelican</a>, <a href="https://disqus.com">Disqus</a><br/>

<script type="text/javascript">
    var disqus_shortname = 'dciabrin';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>  </div>
</footer><!-- /#footer -->    </div>
  <!-- </div> -->
  <script src="http://damien.ciabrini.name/theme/slide.js"></script>
</body>
</html>